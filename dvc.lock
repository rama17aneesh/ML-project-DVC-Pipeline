schema: '2.0'
stages:
  prepare_data:
    cmd: python ./prepare_data.py
    deps:
    - path: ./IMDB_Dataset.csv
      hash: md5
      md5: 308443a50e5c993e7b8a1cdb95750026
      size: 66212309
    - path: ./prepare_data.py
      hash: md5
      md5: 9d9edbfbff37208f898193d346519872
      size: 654
    params:
      params.yaml:
        data:
          csv_file_path: ./IMDB_Dataset.csv
          test_set_ratio: 0.3
          train_csv_save_path: ./train.csv
          test_csv_save_path: ./test.csv
    outs:
    - path: ./test.csv
      hash: md5
      md5: 51d90af1d8323666d161de0cec433cf9
      size: 19833030
    - path: ./train.csv
      hash: md5
      md5: cfa7da197088f8a5ffcc273a5e104874
      size: 46479308
  make_features:
    cmd: python ./make_features.py
    deps:
    - path: ./make_features.py
      hash: md5
      md5: 053f54bb81400c9fc1183d0c5b4ec634
      size: 902
    - path: ./test.csv
      hash: md5
      md5: 51d90af1d8323666d161de0cec433cf9
      size: 19833030
    - path: ./train.csv
      hash: md5
      md5: cfa7da197088f8a5ffcc273a5e104874
      size: 46479308
    params:
      params.yaml:
        features:
          vectorizer: tfidf-vectorizer
          train_features_save_path: ./train.joblib
          test_features_save_path: ./test.joblib
    outs:
    - path: ./test.joblib
      hash: md5
      md5: 60204f8da98240ca0211886ae24cd94c
      size: 15817219
    - path: ./train.joblib
      hash: md5
      md5: d286a89925c2817a7c684c73838495d2
      size: 37416227
  train:
    cmd: python ./train.py
    deps:
    - path: ./train.csv
      hash: md5
      md5: cfa7da197088f8a5ffcc273a5e104874
      size: 46479308
    - path: ./train.joblib
      hash: md5
      md5: d286a89925c2817a7c684c73838495d2
      size: 37416227
    - path: ./train.py
      hash: md5
      md5: f000af79a278d57ffc1646f7ef7dc578
      size: 669
    params:
      params.yaml:
        train:
          penalty: l2
          C: 1.0
          solver: lbfgs
          model_save_path: ./model.joblib
    outs:
    - path: ./model.joblib
      hash: md5
      md5: 3e737c1c4b8cc4e82e83c2625a48811a
      size: 704335
  evaluate:
    cmd: python ./evaluate.py
    deps:
    - path: ./evaluate.py
      hash: md5
      md5: 3474da277d475b3e4774f958d9faeb38
      size: 922
    - path: ./model.joblib
      hash: md5
      md5: 3e737c1c4b8cc4e82e83c2625a48811a
      size: 704335
    - path: ./test.csv
      hash: md5
      md5: 51d90af1d8323666d161de0cec433cf9
      size: 19833030
    - path: ./test.joblib
      hash: md5
      md5: 60204f8da98240ca0211886ae24cd94c
      size: 15817219
    params:
      params.yaml:
        evaluate:
          metric: accuracy
          results_save_path: ./results.yaml
    outs:
    - path: ./results.yaml
      hash: md5
      md5: 0b902983fa7a0b5e64cb05133faf44c8
      size: 17
